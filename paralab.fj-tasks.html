<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>paralab.fj-tasks documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Paralab 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>paralab</span></div></div></li><li class="depth-2 branch"><a href="paralab.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="paralab.fj-core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fj-core</span></div></a></li><li class="depth-2 branch current"><a href="paralab.fj-tasks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fj-tasks</span></div></a></li><li class="depth-2"><a href="paralab.pmap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pmap</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="paralab.fj-tasks.html#var-make-fj-task"><div class="inner"><span>make-fj-task</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-make-fj-task-map-reduce-vec"><div class="inner"><span>make-fj-task-map-reduce-vec</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-make-fj-task-vec"><div class="inner"><span>make-fj-task-vec</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-run-fj-task"><div class="inner"><span>run-fj-task</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-run-fj-task.21"><div class="inner"><span>run-fj-task!</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-run-fj-task-serial"><div class="inner"><span>run-fj-task-serial</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-run-fj-task-serial.21"><div class="inner"><span>run-fj-task-serial!</span></div></a></li><li class="depth-1"><a href="paralab.fj-tasks.html#var-split-vec-halves"><div class="inner"><span>split-vec-halves</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">paralab.fj-tasks</h2><div class="doc"><div class="markdown"><p>Module contains simple Clojure abstraction around ForkJoin library.</p></div></div><div class="public anchor" id="var-make-fj-task"><h3>make-fj-task</h3><div class="usage"><code>(make-fj-task &amp; {:keys [size-threshold size-f split-f process-f data], :as fj-task})</code></div><div class="doc"><div class="markdown"><p>Creates <code>fj-task</code> on the basis of keyword arguments:  <code>:data</code> - data to be processed,  <code>:size-f</code> - function returning size of data chunk,  <code>:split-f</code> - function splitting data chunk  <code>:process-f</code> - function processing chunk of data  <code>:size-threshold</code> - maximum size of chunk processed by <code>process-f</code>  <code>:merge-f</code> - function merging results of <code>process-f</code> ran on two chunks</p><p><code>:merge-f</code> is optional. If you wish only to run for side effects  using run-fj-task! it should not be provided.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L20">view source</a></div></div><div class="public anchor" id="var-make-fj-task-map-reduce-vec"><h3>make-fj-task-map-reduce-vec</h3><div class="usage"><code>(make-fj-task-map-reduce-vec &amp; {:keys [map-f reduce-f data size-threshold]})</code></div><div class="doc"><div class="markdown"><p>Creates <code>fj-task</code> executing in parallel map-reduce style computation on data vector, which is equivalent to:</p><p><code>(reduce reduce-f (map map-f data))</code> Assumes that reduce-f is associative.</p><p>Uses the following keyword arguments: <code>:data</code> - data to be processed of type <code>PersistentVector</code>, <code>:map-f</code> - function processing chunk of data, <code>:reduce-f</code> - function reducing the data, <code>:size-threshold</code> - maximum size of chunk processed in a serial manner.</p><p>Obviously this task should be processed by <code>run-fj-task</code> functions <em>without</em> exclamation mark.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L70">view source</a></div></div><div class="public anchor" id="var-make-fj-task-vec"><h3>make-fj-task-vec</h3><div class="usage"><code>(make-fj-task-vec &amp; {:keys [size-threshold process-f merge-f data]})</code></div><div class="doc"><div class="markdown"><p>Creates <code>fj-task</code> with vector data on the basis of keyword arguments:  <code>:data</code> - data to be processed of type <code>PersistentVector</code>,  <code>:process-f</code> - function processing chunk of data  <code>:size-threshold</code> - maximum size of chunk processed by <code>process-f</code>  <code>:merge-f</code> - function merging results of <code>process-f</code> ran on two chunks</p><p><code>:merge-f</code> is optional. If you wish only to run for side effects  using run-fj-task! it should not be provided.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L40">view source</a></div></div><div class="public anchor" id="var-run-fj-task"><h3>run-fj-task</h3><div class="usage"><code>(run-fj-task fj-pool fj-task)</code></div><div class="doc"><div class="markdown"><p>Runs <code>fj-task</code> in a given <code>fj-pool</code>.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L120">view source</a></div></div><div class="public anchor" id="var-run-fj-task.21"><h3>run-fj-task!</h3><div class="usage"><code>(run-fj-task! fj-pool fj-task)</code></div><div class="doc"><div class="markdown"><p>Runs <code>fj-task</code> in a given <code>fj-pool</code> for side-effects only.</p><p><code>fj-task</code> must not contain <code>merge-f</code> field. Any results returned by <code>process-f</code> are discarded, preferably it should return <code>nil</code>. Too much blocking I/O in <code>process-f</code> can result in suboptimal performance, since Fork/Join is designed to CPU intensive tasks.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L149">view source</a></div></div><div class="public anchor" id="var-run-fj-task-serial"><h3>run-fj-task-serial</h3><div class="usage"><code>(run-fj-task-serial fj-task)</code></div><div class="doc"><div class="markdown"><p>Runs <code>fj-task</code> in a serial mode. ForkJoin framework is not used.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L185">view source</a></div></div><div class="public anchor" id="var-run-fj-task-serial.21"><h3>run-fj-task-serial!</h3><div class="usage"><code>(run-fj-task-serial! fj-task)</code></div><div class="doc"><div class="markdown"><p>Runs <code>fj-task</code> in a serial mode for side effects only. ForkJoin framework is not used.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L215">view source</a></div></div><div class="public anchor" id="var-split-vec-halves"><h3>split-vec-halves</h3><div class="usage"><code>(split-vec-halves v)</code></div><div class="doc"><div class="markdown"><p>Splits vector <code>v</code> into two halves.</p></div></div><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L12">view source</a></div></div></div></body></html>