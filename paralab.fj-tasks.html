<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>paralab.fj-tasks documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Paralab 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="paralab.core.html"><span>paralab.core</span></a></li><li><a href="paralab.fj-core.html"><span>paralab.fj-core</span></a></li><li class="current"><a href="paralab.fj-tasks.html"><span>paralab.fj-tasks</span></a></li><li><a href="paralab.pmap.html"><span>paralab.pmap</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="paralab.fj-tasks.html#var-make-fj-task"><span>make-fj-task</span></a></li><li><a href="paralab.fj-tasks.html#var-make-fj-task-map-reduce-vec"><span>make-fj-task-map-reduce-vec</span></a></li><li><a href="paralab.fj-tasks.html#var-make-fj-task-vec"><span>make-fj-task-vec</span></a></li><li><a href="paralab.fj-tasks.html#var-run-fj-task"><span>run-fj-task</span></a></li><li><a href="paralab.fj-tasks.html#var-run-fj-task%21"><span>run-fj-task!</span></a></li><li><a href="paralab.fj-tasks.html#var-run-fj-task-serial"><span>run-fj-task-serial</span></a></li><li><a href="paralab.fj-tasks.html#var-run-fj-task-serial%21"><span>run-fj-task-serial!</span></a></li><li><a href="paralab.fj-tasks.html#var-split-vec-halves"><span>split-vec-halves</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>paralab.fj-tasks documentation</h2><pre class="doc">Module contains simple Clojure abstraction around ForkJoin library.
</pre><div class="public" id="var-make-fj-task"><h3>make-fj-task</h3><div class="usage"><code>(make-fj-task &amp; {:keys [size-threshold size-f split-f process-f data], :as fj-task})</code></div><pre class="doc">Creates `fj-task` on the basis of keyword arguments:
 `:data` - data to be processed,
 `:size-f` - function returning size of data chunk,
 `:split-f` - function splitting data chunk
 `:process-f` - function processing chunk of data
 `:size-threshold` - maximum size of chunk processed by `process-f`
 `:merge-f` - function merging results of `process-f` ran on two chunks

`:merge-f` is optional. If you wish only to run for side effects
 using run-fj-task! it should not be provided.</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L20">Source</a></div></div><div class="public" id="var-make-fj-task-map-reduce-vec"><h3>make-fj-task-map-reduce-vec</h3><div class="usage"><code>(make-fj-task-map-reduce-vec &amp; {:keys [map-f reduce-f data size-threshold]})</code></div><pre class="doc">Creates `fj-task` executing in parallel map-reduce style computation
on data vector, which is equivalent to:

`(reduce reduce-f (map map-f data))`
Assumes that reduce-f is associative.

Uses the following keyword arguments:
`:data` - data to be processed of type `PersistentVector`,
`:map-f` - function processing chunk of data,
`:reduce-f` - function reducing the data,
`:size-threshold` - maximum size of chunk processed in a serial manner.

Obviously this task should be processed by `run-fj-task` functions
*without* exclamation mark.</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L70">Source</a></div></div><div class="public" id="var-make-fj-task-vec"><h3>make-fj-task-vec</h3><div class="usage"><code>(make-fj-task-vec &amp; {:keys [size-threshold process-f merge-f data]})</code></div><pre class="doc">Creates `fj-task` with vector data on the basis of keyword arguments:
 `:data` - data to be processed of type `PersistentVector`,
 `:process-f` - function processing chunk of data
 `:size-threshold` - maximum size of chunk processed by `process-f`
 `:merge-f` - function merging results of `process-f` ran on two chunks

`:merge-f` is optional. If you wish only to run for side effects
 using run-fj-task! it should not be provided.</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L40">Source</a></div></div><div class="public" id="var-run-fj-task"><h3>run-fj-task</h3><div class="usage"><code>(run-fj-task fj-pool fj-task)</code></div><pre class="doc">Runs `fj-task` in a given `fj-pool`.
</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L120">Source</a></div></div><div class="public" id="var-run-fj-task%21"><h3>run-fj-task!</h3><div class="usage"><code>(run-fj-task! fj-pool fj-task)</code></div><pre class="doc">Runs `fj-task` in a given `fj-pool` for side-effects only.

`fj-task` must not contain `merge-f` field.
Any results returned by `process-f` are discarded, preferably it should
return  `nil`. Too much blocking I/O in `process-f` can result in suboptimal
performance, since Fork/Join is designed to CPU intensive tasks.</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L149">Source</a></div></div><div class="public" id="var-run-fj-task-serial"><h3>run-fj-task-serial</h3><div class="usage"><code>(run-fj-task-serial fj-task)</code></div><pre class="doc">Runs `fj-task` in a serial mode. ForkJoin framework is not used.
</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L185">Source</a></div></div><div class="public" id="var-run-fj-task-serial%21"><h3>run-fj-task-serial!</h3><div class="usage"><code>(run-fj-task-serial! fj-task)</code></div><pre class="doc">Runs `fj-task` in a serial mode for side effects only.
ForkJoin framework is not used.
</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L215">Source</a></div></div><div class="public" id="var-split-vec-halves"><h3>split-vec-halves</h3><div class="usage"><code>(split-vec-halves v)</code></div><pre class="doc">Splits vector `v` into two halves.
</pre><div class="src-link"><a href="http://github.com/lopusz/paralab/blob/master/src/main/clojure/paralab/fj_tasks.clj#L12">Source</a></div></div></div></body></html>